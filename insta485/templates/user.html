<!DOCTYPE html>
<html lang="en">
<head>
    <title> insta485 </title>
</head>
<body>
    <a href="/"> <img src="/images/logo.png" alt="Instagram Logo" height="100" width="175"/> </a>  
    Insta 485
    <a href="/explore/"> Explore </a>
    <a href="/users/{{ logname }}/"> {{ logname }} </a>
    <hr/>

    <h1>{{ user.username }}</h1>

    {% if logname_follows_username %}
        <p>following</p>
        <!-- DO NOT CHANGE THIS (aside from where we say 'FIXME') -->
        <form action="<FIXME_FOLLOWING_URL_HERE>?target=<FIXME_CURRENT_PAGE_URL_HERE>" method="post" enctype="multipart/form-data">
            <input type="submit" name="unfollow" value="unfollow"/>
            <input type="hidden" name="username" value="{{ user.username }}"/>
            <input type="hidden" name="operation" value="unfollow"/>
        </form>
  
    {% elif not logname_follows_username and logname != user.username %}
        <p>not following</p>
        <!-- DO NOT CHANGE THIS (aside from where we say 'FIXME') -->
        <form action="<FIXME_FOLLOWING_URL_HERE>?target=<FIXME_CURRENT_PAGE_URL_HERE>" method="post" enctype="multipart/form-data">
            <input type="submit" name="follow" value="follow"/>
            <input type="hidden" name="username" value="{{ user.username }}"/>
            <input type="hidden" name="operation" value="follow"/>
        </form>
    {% else %}
        <p> <strong> Edit profile </strong></p>
        <!-- DO NOT CHANGE THIS (aside from where we say 'FIXME') -->
        <!-- DO NOT CHANGE THIS (aside from where we say 'FIXME') -->
        <form action="<FIXME_LOGOUT_PAGE_URL_HERE>" method="post" enctype="multipart/form-data">
            <input type="submit" name="logout" value="Logout"/>
        </form>

        <!-- create post -->
        <form action="<FIXME_POSTS_URL_HERE>?target=<FIXME_CURRENT_PAGE_URL_HERE>" method="post" enctype="multipart/form-data">
            <input type="file" name="file" accept="image/*" required/>
            <input type="submit" name="create_post" value="upload new post"/>
            <input type="hidden" name="operation" value="create"/>
        </form>
    {% endif %}

    <p> 
        {{ total_posts }} {% if total_posts == 1 %} post {% else %} posts {% endif %} 
        <a href="/users/{{ user.username }}/followers/">
            <strong>{{ followers }} {% if followers == 1 %} follower {% else %} followers {% endif %} </strong> 
        </a> 
        <a href="/users/{{ user.username }}/following/">
            <strong> {{ following }} following </strong>
        </a> 
    </p>
    <p> {{ user.fullname }} </p>
    {% for post in posts %}
        <a href="/posts/{{ post.postid }}/"><img src="{{ post.image_url }}" alt="post photo"/> </a>
    {% endfor %}
</body>
</html>
